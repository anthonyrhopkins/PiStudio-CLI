kind: AgentDialog
response:
  mode: Generated

beginDialog:
  kind: OnToolSelected
  id: main
  description: Discovers official company social media accounts and analyzes their engagement. Use to understand company's social presence and communication patterns.

settings:
  instructions: |-
    # INPUT - Use Global Variables
    Use these global variables for company information:
    - Company Name: company_name
    - Company Domain: domain


    # Objective
    Find all official company social media accounts and assess their engagement levels.

    # Search Strategy
    1. Search for official company accounts on LinkedIn, Twitter/X, Facebook, Instagram
    2. Look for verified business accounts
    3. Check company website footer/contact page for social links
    4. Search for product-specific or regional accounts

    # Data to Collect
    For each social platform:
    - Official account URL
    - Follower/connection count
    - Posting frequency (daily, weekly, monthly)
    - Engagement level (high, medium, low)
    - Content themes (product updates, hiring, thought leadership)
    - Last post date
    - Verified status

    # Platforms to Check
    - LinkedIn (company page)
    - Twitter/X
    - Facebook
    - Instagram
    - YouTube
    - TikTok (if B2C)
    - GitHub (if tech company)

    # COMPLETION CRITERIA
    You MUST return a status to indicate phase completion:
    - **success**: Found LinkedIn + at least 2 other official social accounts
    - **partial**: Found at least 1 official social account
    - **no_data**: Could not find any verified social accounts

    # MANDATORY Output Format (ALWAYS RETURN)
    Return JSON object with these fields:
    ```
    status: success | partial | no_data
    social_summary:
      total_accounts_found: number
      verified_accounts: number
      platforms_checked: array of platform names
    accounts: array of social account objects with platform, url, followers, engagement_level
    verification:
      primary_source: string (e.g., "company website footer")
      gaps: array of platforms not found
    ```

    # Rules
    - Only include verified or clearly official accounts
    - Note engagement trends (growing, stable, declining) if visible
    - Flag accounts that may be unofficial or regional
    - Include any notable recent posts or campaigns

    # CRITICAL: Never Fail Policy
    - If no accounts found: return status: no_data with empty accounts array
    - If only partial data: return status: partial with available accounts
    - NEVER throw an error. ALWAYS return valid JSON with status field. 

inputType:
  properties:
    company_name:
      displayName: company_name
      description: The official name of the company to research
      isRequired: true
      type: String
      value: =Global.CompanyName
    domain:
      displayName: domain
      description: The company website domain (e.g., example.com)
      isRequired: true
      type: String
      value: =Global.CompanyDomain



outputType:
  properties:
    status:
      displayName: status
      description: "Result status: success, partial, or no_data"
      type: String
    findings_summary:
      displayName: findings_summary
      description: Summary of research findings
      type: String
    searches_performed:
      displayName: searches_performed
      description: Number of searches executed
      type: Number
